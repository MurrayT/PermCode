package permlab;

import java.util.Iterator;
import permlab.property.PermProperty;
import permlab.property.Universal;

/**
 * This class represents abstractly the collection of all permutations of some
 * given lengths, and allows iteration over this collection without needing to
 * store the entire collection. The main reason for doing this is to provide an
 * iterator over all permutations of those lengths so that code such as: <p>
 * <code> for(Permutation p : new Permutations(3,10)) {...}</code> <p> can be
 * used.
 *
 * @author Michael Albert
 */
public class Permutations implements Iterable<Permutation> {

    private PermClassInterface c;
    private int low;
    private int high;
    private PermProperty prop;
   
    public Permutations(PermClassInterface c, int low, int high) {
        this(c, low, high, null);
    }
    
    public Permutations(PermClassInterface c, int length, PermProperty prop) {
        this(c, length, length, prop);
    }
    
    public Permutations(PermClassInterface c, int length) {
        this(c, length, length);
    }
    
    public Permutations(int low, int high, PermProperty prop) {
        this(new UniversalPermClass(high), low, high, prop);
    }
    
    public Permutations(int low, int high) {
        this(new UniversalPermClass(high), low, high);
    }
    
    public Permutations(int length, PermProperty prop) {
        this(new UniversalPermClass(length), length, length, prop);
    }
    
    public Permutations(int length) {
        this(new UniversalPermClass(length), length);
    }

    public Permutations(PermClassInterface c, int low, int high, PermProperty prop) {
        this.c = c;
        this.low = low;
        this.high =  high;
        this.prop = prop;
    }

    
    
    
    /**
     * Returns the iterator for this class.
     * 
     * @return the iterator for this class
     */
    @Override
    public Iterator<Permutation> iterator() {
        if(prop == null) {
            return c.getIterator(low, high);
        }
        return c.getRestrictedIterator(low, high, prop);
    } //End of Iterator
}
